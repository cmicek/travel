/* Author: Chris Micek */function loadGalleryImage(e,t){if(t.hasClass("active"))return!1;e(".gallery--large").addClass("loading").parents(".gallery").find(".gallery-item").removeClass("active");setTimeout(function(){e(".gallery--large").find("img").attr("src",t.find(".gallery-icon").data("full"));e(".gallery--large").find("figcaption").text(t.find("dd").text());t.find("dd").text().length>0?e(".gallery--large").find("figcaption").addClass("in"):e(".gallery--large").find("figcaption").removeClass("in");setTimeout(function(){e(".gallery--large").removeClass("loading")},100)},250);t.addClass("active")}function buildGalleryImage(e,t){var n=e('<figure class="gallery--large"><div class="img"><img class="gallery--large--item" /><figcaption></figcaption></div></figure>');n.find("img").attr("src",t.find(".gallery-icon").data("full"));n.find("figcaption").text(t.find("dd").text());t.find("dd").text().length>0?n.find("figcaption").addClass("in"):n.find("figcaption").removeClass("in");t.addClass("active");return n}jQuery(document).ready(function(e){e(".js-site-nav--toggle").on("click",function(){e("body,html").toggleClass("site-nav__active")});e(".menu-item-has-children").append('<span class="menu-item-toggle">+</span>');e(".menu-item-has-children").on("click",".menu-item-toggle",function(t){t.stopPropagation();var n=e(this);if(n.parent().hasClass("menu-item__active")){n.parent().removeClass("menu-item__active");n.text("+")}else{n.parent().addClass("menu-item__active");n.text("-")}});e(".js-comment--toggle").on("click",function(t){t.preventDefault();var n=e(this);n.parents("article").find(".comment--form").toggleClass("in")});e(".js-post--comments--count").on("click",function(t){t.preventDefault();var n=e(this);n.parents("article").find(".comment--list").toggleClass("in")});e(".gallery-item").on("click",function(t){t.preventDefault();loadGalleryImage(e,e(this))});e(".gallery").on("click",".gallery--large--item",function(t){t.preventDefault();var n=e(this),r=n.parents(".gallery").find(".gallery-item.active").nextAll(".gallery-item").first();r.length>0?loadGalleryImage(e,r):loadGalleryImage(e,n.parents(".gallery").find(".gallery-item").first())});e(".gallery").prepend(buildGalleryImage(e,e(".gallery").find(".gallery-item").first()));e(".gallery-item").each(function(){e("<img/>")[0].src=e(this).find(".gallery-icon").data("full")})});